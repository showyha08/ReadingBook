# Docker&仮想サーバ入門

## Chapter2

- コンテナは一言で言うとアプリとファイルシステムを隔離する特殊なプロセス
- コンテナの由来は貨物輸送用のコンテナ
- コンテナは 1 つのマシンに複数作成できる
  - Web サーバと DB サーバを別のコンテナで動作させてコンテナ間で通信させるなどできる
- ホスト OS にインストールしたコンテナ実行環境上で動く
- 仮想マシンとの違いはゲスト OS、コンテナはゲスト OS がない
- コンテナはあくまでカーネルはホスト OS のものを利用する

## コンテナのメリット

- ホスト OS を汚さずに環境構築ができる
- IaC を実現する(コードを渡しておんなじ環境を構築できる)
- 可搬性がある(異なる OS やマシンでも同じ環境を再現できる)

## デメリット

- 学習コスト(本番環境でつかうなら cgroups や namespace を理解する、オーケストレーションツール)

## コンテナイメージ

- コンテナはコンテナイメージ(テンプレート)から作られる
- ファイルシステム、実行コマンド、メタ情報などが含まれる
- Apache のイメージ や MariaDB のイメージなどがある
- Docker ではイメージを構築するのに Dockerfile を使う
- Dockerfile をもとにイメージを構築することを build という

## コンテナのライフサイクル
- 作成、実行、停止、削除
- コンテナは作っては削除が基本
- コンテナを変更して使い続けるより、削除して作り直す方が手間がかからない
- コンテナ削除時にデータをん起こしたい時は永続化が必要

## Chapter3

### Dockerのアーキテクチャ
- Dockerはクライアント/サーバシステム
- 
